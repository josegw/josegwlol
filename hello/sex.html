<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>Experiment – Carta</title>
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<style>
/* === Fondo hazem.gg === */
* { margin:0; padding:0; box-sizing:border-box; }
html, body {
    width:100%; height:100%;
    background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    color: #fff;
    display: flex; align-items: center; justify-content: center;
    flex-direction: column;
    overflow: hidden;
}

/* Contenedor del sobre */
.contenedor {
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    width: 300px;
    height: 250px;
}

.envoltura-sobre {
    position: relative;
    width: 100%;
    height: 100%;
    background-color: #ffe3ed;
    border-radius: 15px;
    box-shadow: 0 0 40px rgba(0,0,0,0.3);
    cursor: pointer;
    overflow: hidden;
}

/* Solapa superior */
.sobre::before {
    content: "";
    position: absolute;
    top: 0; left: 0; right: 0;
    border-top: 150px solid #ffccd5;
    border-right: 150px solid transparent;
    border-left: 150px solid transparent;
    transform-origin: top;
    transition: transform 1s ease;
    border-radius: 10px;
    z-index: 2;
}

/* Parte trasera del sobre */
.parte-atras {
    position: absolute;
    width: 100%;
    height: 100%;
    background-color: #ffc1d1;
    border-radius: 10px;
    z-index: 0;
}

/* Corazón */
.corazon {
    position: absolute;
    top: 50%; left: 50%;
    width: 30px; height: 30px;
    background-color: #ff477e;
    transform: translate(-50%, -50%) rotate(45deg);
    cursor: pointer;
    z-index: 3;
    transition: transform 1s ease;
}
.corazon::before,
.corazon::after {
    content: "";
    position: absolute;
    width: 30px; height: 30px;
    background-color: #ff477e;
    border-radius: 50%;
}
.corazon::before { top: -15px; left: 0; }
.corazon::after { top: 0; left: -15px; }

/* Carta */
.carta {
    position: absolute;
    width: 90%; height: 80%;
    background: #fff;
    color: #000;
    border-radius: 10px;
    padding: 15px;
    font-size: 0.9rem;
    line-height: 1.2rem;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    opacity: 0;
    pointer-events: none;
    transition: transform 0.8s ease, opacity 0.8s ease;
    z-index: 4;
    overflow-y: auto;
    max-height: 80%;
}

/* Animaciones de apertura */
.abierto .sobre::before {
    transform: rotateX(180deg);
}
.abierto .corazon {
    transform: translate(-50%, -150%) rotate(45deg);
}
.carta.mostrar {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.05);
    pointer-events: auto;
}
</style>
</head>
<body>

<!-- Contenedor de sobre -->
<div id="envelopeContainer">
    <div class="contenedor">
        <div class="envoltura-sobre">
            <div class="parte-atras"></div>
            <div class="sobre"></div>
            <div class="corazon"></div>
            <div class="carta">
                <div>
                    <strong>Querida Estrella</strong>
                    <p>
                        Hoy es <strong>San Valentín</strong>, el día oficial de los corazones, el chocolate, y las declaraciones de amor dramáticas (como en las telenovelas). Así que prepárate, porque aquí va la mía:
                        Desde que te conocí, mi corazón late más rápido que WiFi gratis en una plaza pública.
                        Eres más brillante que un mensaje de "te amo" en LED gigante y más dulce que el doble de caramelo en un café con extra de crema.
                        Si fueras un algoritmo, serías el más eficiente: optimizas mi felicidad con la menor cantidad de esfuerzo.
                        Si fueras un bug, serías el único que no querría corregir.
                        Y si fueras una aplicación, serías la que siempre tengo anclada en mi pantalla principal.
                        Gracias por hacer de mi vida una versión mejorada, sin errores (bueno, quizá con algunos, pero todos adorables).
                        <br><br>
                        <strong>Feliz San Valentín</strong>, mi estrella favorita.
                        <br>Con mucho código (y amor),
                        <br>Tu programador enamorado.
                        <br><span style="font-size: 0.9em; color: grey;">PD: Si esta carta fuera un programa, su salida sería:</span>
                        <br><code>"Eres lo mejor que me ha pasado."</code>
                        <br><br>
                        (Este texto de ejemplo es largo para comprobar el scroll, puedes remplazarlo por el texto real que desees sin preocuparte por cortes.)
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Manejar apertura del sobre
const envoltura = document.querySelector(".envoltura-sobre");
const carta = document.querySelector(".carta");

envoltura.addEventListener("click", () => {
    if (!envoltura.classList.contains("abierto")) {
        envoltura.classList.add("abierto");
        setTimeout(() => {
            carta.classList.add("mostrar");
        }, 1000); // espera a que la solapa abra para mostrar la carta
    } else {
        carta.classList.remove("mostrar");
        envoltura.classList.remove("abierto");
    }
});
</script>
</body>
</html>
